#!/usr/bin/env bash
# set up python environment
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
ROOT="$(dirname "$DIR")"

usage()
{
cat << EOF
usage: mml-clean [-h]

Remove files generated by matmodlab (.pyc, .o, .so, .a, build, etc.)

EOF
}

# option parsing - for now, only -h is supported
while getopts "h" OPTION
do
     case $OPTION in
         h)
             usage
             exit 1
             ;;
         ?)
             usage
             exit
             ;;
     esac
done

find $ROOT \( -type d -name "build" -o -type d -name "*.eval" \) -exec rm -rf {} \+
find $ROOT \( -name "*.pyc" -o -name "*.o" -o \
              -name "*.con" -o -name "*.a" -o \
              -name "*-f2pywrappers2.f90" -o -name "*module.c" -o \
              -name "*.so"  -o -name "*.log"  \) -exec rm -f {} \+

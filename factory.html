<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Factory Methods &mdash; Material Model Laboratory 2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Material Model Laboratory 2.0 documentation" href="index.html" />
    <link rel="up" title="User’s Guide" href="users.html" />
    <link rel="next" title="Abaqus Materials" href="aba.html" />
    <link rel="prev" title="Running a Simulation" href="run.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="aba.html" title="Abaqus Materials"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="run.html" title="Running a Simulation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Material Model Laboratory 2.0 documentation</a> &raquo;</li>
          <li><a href="users.html" accesskey="U">User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="factory-methods">
<span id="id1"></span><h1>Factory Methods<a class="headerlink" href="#factory-methods" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-material-factory-method">
<h2>The Material Factory Method<a class="headerlink" href="#the-material-factory-method" title="Permalink to this headline">¶</a></h2>
<p>A material instance is created through the <tt class="docutils literal"><span class="pre">Material</span></tt> factory method.  Minimally, the factory method requires the material model name <tt class="docutils literal"><span class="pre">model</span></tt> and the model parameters <tt class="docutils literal"><span class="pre">parameters</span></tt></p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">material</span> <span class="o">=</span> <span class="n">Material</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span>
</pre></div>
</div>
<p>The object returned from <tt class="docutils literal"><span class="pre">Material</span></tt> is an instance of the class defining
<tt class="docutils literal"><span class="pre">model</span></tt>.</p>
<p>The formal parameters to <tt class="docutils literal"><span class="pre">Material</span></tt> are</p>
<dl class="function">
<dt id="Material">
<tt class="descname">Material</tt><big>(</big><em>model</em>, <em>parameters</em>, <em>initial_temp=None</em>, <em>logger=None</em>, <em>expansion=None</em>, <em>trs=None</em>, <em>viscoelastic=None</em>, <em>rebuild=False</em>, <em>source_files=None</em>, <em>source_directory=None</em>, <em>depvar=None</em>, <em>param_names=None</em>, <em>switch=None</em><big>)</big><a class="headerlink" href="#Material" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for subclasses of MaterialModel</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model</strong> (<em>str</em>) &#8211; material model name</li>
<li><strong>parameters</strong> (<em>dict or ndarray</em>) &#8211; model parameters.  For Abaqus umat models and matmodlab user models, parameters is a ndarray of model constants (specified in the order expected by the model).  For other model types, parameters is a dictionary of name:value pairs.</li>
<li><strong>initial_temp</strong> (<em>float or None</em>) &#8211; Initial temperature.  The initial temperature, if given, must be consistent with that of the simulation driver.  Defaults to 298K if not specified.</li>
<li><strong>logger</strong> (<em>instance or None</em>) &#8211; An instance of a Logger</li>
<li><strong>expansion</strong> (<em>instance or None</em>) &#8211; An instance of an Expansion model.</li>
<li><strong>trs</strong> (<em>instance or None</em>) &#8211; An instance of a time-temperature shift (TRS) model</li>
<li><strong>viscoelastic</strong> (<em>instance or None</em>) &#8211; An instance of a Viscoelastic model.</li>
<li><strong>rebuild</strong> (<em>bool</em>) &#8211; Rebuild the material, or not.</li>
<li><strong>source_files</strong> (<em>list or None</em>) &#8211; List of model source files*.  Each file name given in source_files must exist.  If the optional source_directory is given, source files are looked for in it.</li>
<li><strong>source_directory</strong> (<em>str or None</em>) &#8211; Directory containing source files*.  source_directory is optional, but allows giving source_files as a list of file names only - not fully qualified paths.</li>
<li><strong>depvar</strong> (<em>int or None</em>) &#8211; Number of state dependent variables*.</li>
<li><strong>param_names</strong> (<em>list or None</em>) &#8211; List of model parameter names*.  If specified, parameters are given as dict and not ndarray.</li>
<li><strong>switch</strong> (<em>tuple or None</em>) &#8211; Model switch.  Two tuple given as (original material, new material).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">MaterialModel instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="the-driver-factory-method">
<h2>The Driver Factory Method<a class="headerlink" href="#the-driver-factory-method" title="Permalink to this headline">¶</a></h2>
<p>A driver instance is created through the <tt class="docutils literal"><span class="pre">Driver</span></tt> factory method. Minimally,
the factory method requires the driver kind <tt class="docutils literal"><span class="pre">driver_kind</span></tt> and the path
specification <tt class="docutils literal"><span class="pre">path</span></tt></p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">driver</span> <span class="o">=</span> <span class="n">Driver</span><span class="p">(</span><span class="n">driver_kind</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<p>The object returned from <tt class="docutils literal"><span class="pre">Driver</span></tt> is an instance of the class defining
<tt class="docutils literal"><span class="pre">driver_kind</span></tt>.  At present, only <tt class="docutils literal"><span class="pre">driver_kind=&quot;Continuum&quot;</span></tt> is defined.</p>
<p>The formal parameters to <tt class="docutils literal"><span class="pre">Driver</span></tt> are</p>
<dl class="function">
<dt id="Driver">
<tt class="descname">Driver</tt><big>(</big><em>driver_kind</em>, <em>path</em>, <em>path_input=&quot;default&quot;</em>, <em>kappa=0.</em>, <em>amplitude=1.</em>, <em>rate_multiplier=1.</em>, <em>step_multiplier=1.</em>, <em>num_io_dumps=&quot;all&quot;</em>, <em>estar=1.</em>, <em>tstar=1.</em>, <em>sstar=1.</em>, <em>fstar=1.</em>, <em>efstar=1.</em>, <em>dstar=1.</em>, <em>proportional=False</em>, <em>termination_time=None</em>, <em>functions=None</em>, <em>cfmt=None</em>, <em>tfmt=&quot;time&quot;</em>, <em>num_steps=None</em>, <em>cols=None</em>, <em>skiprows=0</em>, <em>logger=None</em><big>)</big><a class="headerlink" href="#Driver" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for subclasses of PathDriver</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>driver_kind</strong> (<em>str</em>) &#8211; The driver kind</li>
<li><strong>path</strong> (<em>str</em>) &#8211; The deformation path through which to driver the material</li>
<li><strong>path_input</strong> (<em>str or None</em>) &#8211; Type of path input.  Choices are default, table, function [default: default]</li>
<li><strong>kappa</strong> (<em>float</em>) &#8211; The Seth-Hill parameter [default: 0.]</li>
<li><strong>amplitude</strong> (<em>float</em>) &#8211; Factor multiplied to all components of deformation [default: 1.]</li>
<li><strong>rate_multiplier</strong> (<em>float</em>) &#8211; Divisor to the termination time of each leg, thereby effectively increasing the rate of deformation [default: 1.]</li>
<li><strong>step_multiplier</strong> (<em>float</em>) &#8211; Multiplier on number of steps in each leg [default: 1.]</li>
<li><strong>num_io_dumps</strong> &#8211; Total number of dumps to the output database [default: all]</li>
<li><strong>[de(ef)fst]star</strong> (<em>float</em>) &#8211; Multipliers on the components of displacement, strain, electric field, deformation gradient, stress, and temperature, respectively. The [de(ef)fst]star} are first multiplied by amplitude [default: 1.].</li>
<li><strong>proportional</strong> (<em>bool</em>) &#8211; For stress controlled loading, attempt to maintain proportional loading when seeking strain increments [default: False]</li>
<li><strong>termination_time</strong> (<em>float or None</em>) &#8211; Termination time.  If not specified, termination time is taken as last time in path.</li>
<li><strong>functions</strong> (<em>List of Function</em>) &#8211; List of Function objects.  Functions used to generate path.</li>
<li><strong>cfmt</strong> (<em>str or None</em>) &#8211; Column format if path_input is table or function.</li>
<li><strong>tfmt</strong> (<em>str or None</em>) &#8211; Time format if path_input is table or function [default: time]</li>
<li><strong>num_steps</strong> (<em>int</em>) &#8211; Total number of steps if path_input is function [default: 1]</li>
<li><strong>cols</strong> (<em>List of int</em>) &#8211; Columns from which to extract data if path_input is table.</li>
<li><strong>skiprows</strong> (<em>int or None</em>) &#8211; Rows to skip when reading path_file or table data [default=0]</li>
<li><strong>logger</strong> (<em>instance or None</em>) &#8211; An instance of a Logger</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">PathDriver instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="defining-the-path">
<h3>Defining the Path<a class="headerlink" href="#defining-the-path" title="Permalink to this headline">¶</a></h3>
<p>The path through which a material is driven is defined by deformation &#8220;legs&#8221;
specifying the type of deformation to be prescribed over the time period of
each leg. The method in which the path is defined is dependent on the value of
the <tt class="docutils literal"><span class="pre">path_input</span></tt> parameter.</p>
<div class="section" id="path-input-default">
<h4><tt class="docutils literal"><span class="pre">path_input=&quot;default&quot;</span></tt><a class="headerlink" href="#path-input-default" title="Permalink to this headline">¶</a></h4>
<p>For <tt class="docutils literal"><span class="pre">path_input=&quot;default&quot;</span></tt>, each leg of deformation is given as:</p>
<div class="highlight-python"><div class="highlight"><pre>tf n cfmt Cij
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">tf</span></tt>, <tt class="docutils literal"><span class="pre">n</span></tt>, <tt class="docutils literal"><span class="pre">cfmt</span></tt>, and <tt class="docutils literal"><span class="pre">Cij</span></tt> are the termination time, number of
steps, control format, and control format of the particular leg. The control
format <tt class="docutils literal"><span class="pre">cfmt</span></tt> is concatenated integer list specifying in its
<img class="math" src="_images/math/15c03f6e1929dfd05f78e1f4d8d833aed1d6c6e1.png" alt="i^\text{ith}"/> component the <img class="math" src="_images/math/0f8de498fda27ecb202c6307d1d8fb5e789d3148.png" alt="i^\text{th}"/> component of
deformation, i.e., <tt class="docutils literal"><span class="pre">cfmt[i]</span></tt> instructs the driver as to the type of
deformation represented by <tt class="docutils literal"><span class="pre">Cij[i]</span></tt>. Consider the <a class="reference internal" href="run.html#first-example"><em>Running a Simulation</em></a>,
where the path was prescribed as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">path</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;0  0 222  0 0 0</span>
<span class="s">          1 10 222 .1 0 0&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>or, shown below with parts explicitly labeled</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/path_desc.png"><img alt="_images/path_desc.png" src="_images/path_desc.png" style="width: 3in;" /></a>
</div>
<p>In this example, for the second leg, <tt class="docutils literal"><span class="pre">tf=1</span></tt>, the number of steps is
<tt class="docutils literal"><span class="pre">n=10</span></tt>, <tt class="docutils literal"><span class="pre">cfmt=222</span></tt>, and <tt class="docutils literal"><span class="pre">Cij=.1</span> <span class="pre">0</span> <span class="pre">0</span></tt></p>
<p>Consider now how <tt class="docutils literal"><span class="pre">cfmt</span></tt> corresponds to <tt class="docutils literal"><span class="pre">Cij</span></tt></p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/cfmt_desc.png"><img alt="_images/cfmt_desc.png" src="_images/cfmt_desc.png" style="width: 2in;" /></a>
</div>
<p>Types of deformation represented by <tt class="docutils literal"><span class="pre">cfmt</span></tt> are shown in <a class="reference internal" href="#table-1">Table 1</a></p>
<table border="1" class="docutils" id="table-1">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><tt class="docutils literal"><span class="pre">cfmt</span></tt></th>
<th class="head">Deformation type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>Strain rate</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Strain</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Stress rate</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>Stress</td>
</tr>
<tr class="row-even"><td>5</td>
<td>Deformation gradient</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>Electric field</td>
</tr>
<tr class="row-even"><td>7</td>
<td>Temperature</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>Displacement</td>
</tr>
<tr class="row-even"><td>9</td>
<td>User defined field</td>
</tr>
</tbody>
</table>
<p>The component ordering of vectors and tensors follows what is described in
<a class="reference internal" href="conventions.html#conventions"><em>Conventions</em></a>. If <tt class="docutils literal"><span class="pre">len(Cij)</span></tt> does not equal 6, (or 9 for deformation
gradient), the missing components are assumed to be zero strain.</p>
<p>If temperature is not prescribed, it is presumed to have a constant value of 298K.</p>
<p>If a user defined field is not prescribed, it is presumed to be <tt class="docutils literal"><span class="pre">None</span></tt>.</p>
<p>For example, the following <tt class="docutils literal"><span class="pre">cfmt</span></tt> instructs the driver that the components
of <tt class="docutils literal"><span class="pre">Cij</span></tt> represent [stress, strain, stress rate, strain rate, strain,
strain], respectively:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cfmt</span><span class="o">=</span><span class="s">&quot;423122&quot;</span>
</pre></div>
</div>
<p>Mixed modes are allowed only for components of strain rate, strain, stress
rate, and stress.</p>
<p>Electric field components can be included with any deformation type.</p>
<p>Temperature can be included with any deformation type.</p>
<p>User defined field can be included with any deformation type.</p>
<p>If only one component of stress rate, stress, strain rate, or strain is
specified, the component <tt class="docutils literal"><span class="pre">Cij</span></tt> is taken to be either the pressure or
volumetric strain.</p>
</div>
<div class="section" id="path-input-table">
<span id="tblform"></span><h4><tt class="docutils literal"><span class="pre">path_input=&quot;table&quot;</span></tt><a class="headerlink" href="#path-input-table" title="Permalink to this headline">¶</a></h4>
<p>The <tt class="docutils literal"><span class="pre">table</span></tt> <tt class="docutils literal"><span class="pre">path_input</span></tt> format allows reading in deformation paths from a
columnar table of data. Control format is uniform for all legs and is
specified by the <tt class="docutils literal"><span class="pre">cfmt</span></tt> keyword argument to <tt class="docutils literal"><span class="pre">Driver</span></tt>. Specify which
columns to read data with the <tt class="docutils literal"><span class="pre">cols</span></tt> keyword argument. Column indexing is
zero based and the first column is assumed to be the time specifier. The
<tt class="docutils literal"><span class="pre">tfmt</span></tt> keyword argument specifies if the time column represents the actual
time (<tt class="docutils literal"><span class="pre">tfmt=&quot;time&quot;</span></tt>) or time step (<tt class="docutils literal"><span class="pre">tmft=&quot;dt&quot;</span></tt>). The number of steps for
each leg can be set by <tt class="docutils literal"><span class="pre">num_steps</span></tt> keyword argument.</p>
<p>The following input stubs sets up the driver with the same path as in the
<a class="reference internal" href="run.html#first-example"><em>Running a Simulation</em></a>, but specified by a table:</p>
<div class="highlight-python"><div class="highlight"><pre>path = &quot;&quot;&quot;0  0 0 0
          1 .1 0 0&quot;&quot;&quot;
driver = Driver(&quot;Continuum&quot;, path, path_input=&quot;table&quot;,
                cols=[0,1,2,3], cfmt=&quot;222&quot;, tfmt=&quot;time, num_steps=10)
</pre></div>
</div>
<p>The table input format is convenent for using experimental data, contained in
columnar ascii data files, to drive a material model.</p>
</div>
<div class="section" id="path-input-function">
<h4><tt class="docutils literal"><span class="pre">path_input=&quot;function&quot;</span></tt><a class="headerlink" href="#path-input-function" title="Permalink to this headline">¶</a></h4>
<p>The <tt class="docutils literal"><span class="pre">function</span></tt> <tt class="docutils literal"><span class="pre">path_input</span></tt> format allows defining a deformation path by a
function. A deformation path defined by <tt class="docutils literal"><span class="pre">function</span></tt> must have only 1 leg
defining the termination time and the function specifier defining the values
of the components of deformation. The function specifier is of the form:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">function_id</span><span class="p">[:</span><span class="n">scale</span><span class="p">]</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">function_id</span></tt> is the ID of a <tt class="docutils literal"><span class="pre">Function</span></tt> object. The optional scale
is a scalar multiplier applied to the return value of the function identified
with <tt class="docutils literal"><span class="pre">function_id</span></tt>.  See <a class="reference internal" href="#functions"><em>The Function Factory Method</em></a> for more information on defining <tt class="docutils literal"><span class="pre">Function</span></tt> objects.</p>
<p>The following input stub demonstrates uniaxial strain deformation, using a
user defined function to specify the 11 component of strain through time</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># set up the driver with a function</span>
<span class="n">func</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&quot;analytic_expression&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
<span class="n">functions</span> <span class="o">=</span> <span class="p">[</span><span class="n">func</span><span class="p">,]</span>
<span class="n">path</span> <span class="o">=</span> <span class="s">&quot;{0} 2:1.e-1 0 0&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">)</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">Driver</span><span class="p">(</span><span class="s">&quot;Continuum&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">path_input</span><span class="o">=</span><span class="s">&quot;function&quot;</span><span class="p">,</span>
                <span class="n">num_steps</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">termination_time</span><span class="o">=</span><span class="mf">1.8</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span>
                <span class="n">functions</span><span class="o">=</span><span class="n">functions</span><span class="p">,</span> <span class="n">cfmt</span><span class="o">=</span><span class="s">&quot;222&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="the-material-point-simulator">
<span id="mps"></span><h2>The Material Point Simulator<a class="headerlink" href="#the-material-point-simulator" title="Permalink to this headline">¶</a></h2>
<p>A <tt class="docutils literal"><span class="pre">MaterialPointSimulator</span></tt> instance is created directly through the
<tt class="docutils literal"><span class="pre">MaterialPointSimulator</span></tt> constructor. Minimally, the
<tt class="docutils literal"><span class="pre">MaterialPointSimulator</span></tt> constructor requires the specification of a
<tt class="docutils literal"><span class="pre">runid</span></tt>, <tt class="docutils literal"><span class="pre">driver</span></tt>, <tt class="docutils literal"><span class="pre">material</span></tt></p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">mps</span> <span class="o">=</span> <span class="n">MaterialPointSimulator</span><span class="p">(</span><span class="n">runid</span><span class="p">,</span> <span class="n">driver</span><span class="p">,</span> <span class="n">material</span><span class="p">)</span>
</pre></div>
</div>
<p>The formal parameters to the <tt class="docutils literal"><span class="pre">MaterialPointSimulator</span></tt> constructor are</p>
<dl class="class">
<dt id="MaterialPointSimulator">
<em class="property">class </em><tt class="descname">MaterialPointSimulator</tt><big>(</big><em>self</em>, <em>runid</em>, <em>driver</em>, <em>material</em>, <em>termination_time=None</em>, <em>verbosity=1</em>, <em>d=None</em>, <em>logger=None</em><big>)</big><a class="headerlink" href="#MaterialPointSimulator" title="Permalink to this definition">¶</a></dt>
<dd><p>MaterialPointSimulator constructor.  Creates a MaterialPointSimulator object and sets up the simulation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>runid</strong> (<em>str</em>) &#8211; The simulation runid.  All simulation output will be named runid.ext, where ext is log, exo, etc.</li>
<li><strong>driver</strong> (<em>PathDriver</em>) &#8211; The driver object with which to drive the simulation</li>
<li><strong>material</strong> (<em>MaterialModel</em>) &#8211; The material model object</li>
<li><strong>termination_time</strong> (<em>float or None</em>) &#8211; Simulation termination time.  If not given, the last time in the driver path will be used [default: None].</li>
<li><strong>verbosity</strong> (<em>int</em>) &#8211; Level of verbosity.  0-&gt;quiet, 3-&gt;noisy [default: 1]</li>
<li><strong>d</strong> (<em>str or None</em>) &#8211; Directory to run simulation [default: PWD]</li>
<li><strong>logger</strong> (<em>Logger or None</em>) &#8211; Logger object to log simulation process.  If not specified, a new logger will be created [default: None].</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="public-methods-of-materialpointsimulator">
<h3>Public Methods of <tt class="docutils literal"><span class="pre">MaterialPointSimulator</span></tt><a class="headerlink" href="#public-methods-of-materialpointsimulator" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="MaterialPointSimulator.run">
<tt class="descclassname">MaterialPointSimulator.</tt><tt class="descname">run</tt><big>(</big><big>)</big><a class="headerlink" href="#MaterialPointSimulator.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the simulation</p>
</dd></dl>

<dl class="method">
<dt id="MaterialPointSimulator.dump">
<tt class="descclassname">MaterialPointSimulator.</tt><tt class="descname">dump</tt><big>(</big><em>self</em>, <em>variables</em>, <em>format=&quot;ascii&quot;</em>, <em>step=1</em>, <em>time=True</em>, <em>ffmt=&quot;.18f&quot;</em><big>)</big><a class="headerlink" href="#MaterialPointSimulator.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump variables from ExodusII database to other ascii formats</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variables</strong> (<em>list of str</em>) &#8211; Variables to dump</li>
<li><strong>format</strong> (<em>str</em>) &#8211; Output format.  Must be one of ascii, mathematica, ndarray [default: ascii].</li>
<li><strong>step</strong> (<em>int</em>) &#8211; Step interval to dump data [default: 1].</li>
<li><strong>time</strong> (<em>bool</em>) &#8211; Dump time [default: True].</li>
<li><strong>ffmt</strong> (<em>str</em>) &#8211; Floating point number format.  Used as &#8220;{0:{1}}&#8221;.format(number, ffmt)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MaterialPointSimulator.extract_from_db">
<tt class="descclassname">MaterialPointSimulator.</tt><tt class="descname">extract_from_db</tt><big>(</big><em>variables</em>, <em>step=1</em>, <em>t=0</em><big>)</big><a class="headerlink" href="#MaterialPointSimulator.extract_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract variables from ExodusII database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variables</strong> (<em>list of str</em>) &#8211; Variables to extract</li>
<li><strong>step</strong> (<em>int</em>) &#8211; Step interval to dump data [default: 1].</li>
<li><strong>time</strong> (<em>int</em>) &#8211; Extract time [default: 0].</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="MaterialPointSimulator.visualize_results">
<tt class="descclassname">MaterialPointSimulator.</tt><tt class="descname">visualize_results</tt><big>(</big><em>overlay=None</em><big>)</big><a class="headerlink" href="#MaterialPointSimulator.visualize_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Display simulation results in visualizer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>overlay</strong> (<em>str or None</em>) &#8211; Filename for which data is to be overlayed on top of simulation data.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="the-function-factory-method">
<span id="functions"></span><h2>The Function Factory Method<a class="headerlink" href="#the-function-factory-method" title="Permalink to this headline">¶</a></h2>
<p>A function instance is created through the <tt class="docutils literal"><span class="pre">Function</span></tt> factory method. Minimally,
the factory method requires a unique function ID <tt class="docutils literal"><span class="pre">func_id</span></tt>, function type <tt class="docutils literal"><span class="pre">func_type</span></tt>, and function expression <tt class="docutils literal"><span class="pre">expr</span></tt>.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">func</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="n">func_id</span><span class="p">,</span> <span class="n">func_type</span><span class="p">,</span> <span class="n">func_defn</span><span class="p">)</span>
</pre></div>
</div>
<p>The object returned from <tt class="docutils literal"><span class="pre">Function</span></tt> is an instance of the class defining
<tt class="docutils literal"><span class="pre">func_type</span></tt>. At present, <tt class="docutils literal"><span class="pre">analytical</span> <span class="pre">expression</span></tt> and <tt class="docutils literal"><span class="pre">piecewise</span> <span class="pre">linear</span></tt>
function types are supported.  When evaluated, functions are called as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Function</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">t</span></tt> is the time of interest in the simulation.</p>
<p>The formal parameters to <tt class="docutils literal"><span class="pre">Function</span></tt> are</p>
<dl class="function">
<dt id="Function">
<tt class="descname">Function</tt><big>(</big><em>func_id</em>, <em>func_type</em>, <em>func_defn</em><big>)</big><a class="headerlink" href="#Function" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a function object with which a Path path can be created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>func_id</strong> &#8211; Unique integer ID to identify the function.  IDs 0 and 1 are reserved for the constant 0 and 1 functions.</li>
<li><strong>func_type</strong> &#8211; The type of function.  One of &#8220;analytic expression&#8221; or &#8220;piecewise linear&#8221;.  Analytic expression should be a function with 1 callable argument.  If piecewise linear, the current value are interpolated through time.</li>
<li><strong>func_defn</strong> &#8211; The function definition.  If func_type is analytic expression, a function of a single argument.  If func_type is piecewise linear, a 2 column table; the first column represents time and the second the values to interpolate through time.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="the-logger">
<h2>The Logger<a class="headerlink" href="#the-logger" title="Permalink to this headline">¶</a></h2>
<p>Logging in <em>matmodlab</em> is through the <tt class="docutils literal"><span class="pre">Logger</span></tt> class.</p>
<p>It is useful to setup and pass the same logger to <tt class="docutils literal"><span class="pre">Material</span></tt>, <tt class="docutils literal"><span class="pre">Driver</span></tt>, and <tt class="docutils literal"><span class="pre">MaterialPointSimulator</span></tt>.  A logger instance is created through the <tt class="docutils literal"><span class="pre">Logger</span></tt> constructor.  Minimally, the <tt class="docutils literal"><span class="pre">Logger</span></tt> constructor requires a <tt class="docutils literal"><span class="pre">Logger</span></tt> name</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">logger</span> <span class="o">=</span> <span class="n">Logger</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p>The formal parameters to <tt class="docutils literal"><span class="pre">Logger</span></tt> are</p>
<dl class="class">
<dt id="Logger">
<em class="property">class </em><tt class="descname">Logger</tt><big>(</big><em>name</em>, <em>filename=1</em>, <em>verbosity=1</em><big>)</big><a class="headerlink" href="#Logger" title="Permalink to this definition">¶</a></dt>
<dd><p>The matmodlab logger.  Logs messages and warnings to the console and/or file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) &#8211; The logger name.</li>
<li><strong>filename</strong> (<em>str or None</em>) &#8211; File name of log file.  By default, the file name used is name.log.  If None, no file will generated.</li>
<li><strong>verbosity</strong> (<em>int</em>) &#8211; Verbosity.  =0, logging to file only.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="logger-methods">
<h3>Logger Methods<a class="headerlink" href="#logger-methods" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Logger.write">
<tt class="descclassname">Logger.</tt><tt class="descname">write</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#Logger.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Log a message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>str</em>) &#8211; The message to log</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Logger.warn">
<tt class="descclassname">Logger.</tt><tt class="descname">warn</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#Logger.warn" title="Permalink to this definition">¶</a></dt>
<dd><p>Log a warning message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>str</em>) &#8211; The warning message to log</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Logger.error">
<tt class="descclassname">Logger.</tt><tt class="descname">error</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#Logger.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Log an error message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>str</em>) &#8211; The error message to log.  The simulation will not stop.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Logger.raise_error">
<tt class="descclassname">Logger.</tt><tt class="descname">raise_error</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#Logger.raise_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Log an error message and raise an exception</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>str</em>) &#8211; The error message to log. An exception will be raised.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Material Model Laboratory</a></h1>





<p>
<iframe src="http://ghbtns.com/github-btn.html?user=tjfulle&repo=matmodlab&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>


<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="background.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="users.html">User&#8217;s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="conventions.html">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="solmeth.html">Solution Method</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html">Command Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="run.html">Running a Simulation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Factory Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="aba.html">Abaqus Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="addon.html">Optional Material Addons</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutate.html">Permutation</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimize.html">Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">User Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="post.html">Postprocessing Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="build.html">Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html">Annoted Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev.html">Developers&#8217;s Guide</a></li>
</ul>


<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014, Tim Fuller, Scot Swan.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.2.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster </a>
      
      |
      <a href="_sources/factory.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>